<div class="text-center my-4">
  <h1 class="page-title"><i class="fa fa-calendar"></i> OnIt</h1>
</div>
<nav class="navbar navbar-expand-lg navbar-dark">
  <div class="container-fluid">
    <div class="dropdown">
      <button class="btn btn-secondary dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false">
        Projects
      </button>    
      <ul class="dropdown-menu">
        {{#each project}}
        <li>
          <a class="dropdown-item" href="/projects/{{this.id}}">{{this.project_name}}</a>
        </li>
        {{/each}}
      </ul>
    </div>

    
    <div class="collapse navbar-collapse justify-content-end">
      <ul class="navbar-nav">
        <li class="nav-item">
          <span class="nav-link welcome">Welcome, {{username}}</span>
        </li>
        <li class="nav-item">
          <div id ="logout-btn" class="nav-link">Log Out</div>
        </li>
      </ul>
    </div>
  </div>
</nav> 
<div id="project-name" class="container my-4">
  <div class="d-flex justify-content-between align-items-center">
    {{#if project}}
    <h3 class="text-style">{{project.projectname}}</h3>
    {{/if}}
    <button id="new-project" class="btn btn-primary text-white mx-auto">New Project</button>
    {{#if project}}
    <h3 class="mb-0 text-style">{{project.due_date}}</h3>
    {{/if}}
  </div>
</div>

{{#if project}}
<div class="text-center my-4">
  <button id="new-task" class="btn btn-primary text-white">New Task</button>
</div>
<div id="week">
  <div class="d-flex justify-content-between">
    <button id="week-btn" class="btn btn-secondary ">
      &lt; Previous Week
    </button>
    <button id="week-btn" class="btn btn-secondary ms-3">
      Next Week &gt;
    </button>
  </div>
</div>
{{!-- <div id="calender">
  {{#each project.tasks as | tasks |}}
  <div id="calendar-card">
    <h3>{{@key}}</h3>
    {{#each tasks as | task |}}
    {{task.task_name}}
    {{/each}}
  </div>
  {{/each}}
</div> --}}

<div class="container" >
  <div class="card-scroll-container d-flex flex-nowrap overflow-auto" id = "calender">
    {{#each project.tasks as |tasks day|}}
      <div class="card mb-3" style="min-width: 150px; flex-shrink: 0;">
        <div class="card-header">
          <h5>{{day}}</h5>
        </div>
        <div class="card-body">
          {{!-- {{#if tasks.length}} --}}
            <ul class="list-group" style="background-color: #3c486b; color: white; border: none; padding: 10px; text-align: center; cursor: pointer; border-radius: 5px;">
              {{#each tasks as |task|}}
                <li class="list-group-item" style="background-color: #3c486b">
                  <a href="/task/{{task.id}}">{{task.task_name}}</a>
                  <p>{{task.task_desc}}</p>
                  <small>Due: {{task.task_due}}</small>
                </li>
              {{/each}}
            </ul>
          {{!-- {{else}} --}}
            {{!-- <p>No tasks for this day.</p> --}}
          {{!-- {{/if}} --}}
        </div>
      </div>
    {{/each}}
  </div>
</div>



<!-- New Task Modal -->
{{> newTaskModal}}
  <script src="/js/newTask.js"></script>
{{/if}}

<!-- Create Project Modal -->
{{> createProjectModal userId=userId}}


<script src="/js/logout.js"></script>
<!-- Include JavaScript files here -->

  <script src="/js/newProject.js"></script>
  {{!-- <script src="/js/calendar.js"></script> --}}


<script src="/js/calender.js"></script>